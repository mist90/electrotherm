Version 4
SHEET 1 1484 920
WIRE 320 -368 144 -368
WIRE 304 -272 144 -272
WIRE 320 -272 320 -368
WIRE 336 -272 320 -272
WIRE 304 -240 304 -272
WIRE 336 -240 304 -240
WIRE 528 -224 480 -224
WIRE 336 -208 304 -208
WIRE 304 -176 304 -208
WIRE 304 -176 144 -176
WIRE 336 -176 320 -176
WIRE 320 -96 320 -176
WIRE 320 -96 144 -96
WIRE -112 64 -160 64
WIRE 304 64 160 64
WIRE 640 64 544 64
WIRE 960 64 912 64
WIRE 304 96 160 96
WIRE 640 96 544 96
WIRE -112 112 -224 112
WIRE 1008 112 912 112
WIRE 192 128 160 128
WIRE 640 128 608 128
WIRE -112 144 -144 144
WIRE 960 144 912 144
WIRE 192 160 160 160
WIRE 640 160 608 160
WIRE -112 176 -160 176
WIRE 960 176 912 176
WIRE -112 192 -144 192
WIRE 288 192 160 192
WIRE 416 192 368 192
WIRE 640 192 496 192
WIRE 944 192 912 192
WIRE -112 224 -128 224
WIRE 256 224 160 224
WIRE 640 224 544 224
WIRE 928 224 912 224
WIRE -128 256 -128 224
WIRE 928 256 928 224
WIRE -160 320 -160 176
WIRE 544 320 544 224
WIRE 544 320 -160 320
WIRE 256 352 256 224
WIRE 960 352 960 176
WIRE 960 352 256 352
WIRE 336 448 288 448
WIRE 480 448 416 448
WIRE 544 448 480 448
WIRE 656 448 608 448
WIRE 656 464 656 448
WIRE 336 528 288 528
WIRE 480 528 416 528
WIRE 544 528 480 528
WIRE 656 528 608 528
WIRE 656 544 656 528
WIRE 336 608 288 608
WIRE 480 608 416 608
WIRE 544 608 480 608
WIRE 656 608 608 608
WIRE 656 624 656 608
WIRE 336 688 288 688
WIRE 480 688 416 688
WIRE 544 688 480 688
WIRE 656 688 608 688
WIRE 656 704 656 688
FLAG -208 -16 0
FLAG -208 -96 +24V
FLAG 144 -368 Tvt8
FLAG 144 -272 Tvt2
FLAG 144 -176 Tvt9
FLAG 144 -96 Tvt3
FLAG -128 256 0
FLAG 928 256 0
FLAG -160 64 +24V
FLAG 960 64 +24V
FLAG 304 64 Tvt8
FLAG 304 96 Tvt9
FLAG 544 64 Tvt2
FLAG 544 96 Tvt3
FLAG -224 192 0
FLAG 1008 192 0
FLAG 528 -224 Trad
FLAG 192 128 Tjvt8
FLAG 192 160 Tjvt9
FLAG 608 128 Tjvt2
FLAG 608 160 Tjvt3
FLAG 0 256 Pvt8
FLAG 32 256 Pvt9
FLAG 800 256 Pvt2
FLAG 768 256 Pvt3
FLAG 288 448 Pvt8
FLAG 288 528 Pvt9
FLAG 288 608 Pvt2
FLAG 288 688 Pvt3
FLAG 656 464 0
FLAG 656 544 0
FLAG 656 624 0
FLAG 656 704 0
FLAG 480 448 Pavg_vt8
FLAG 480 528 Pavg_vt9
FLAG 480 608 Pavg_vt2
FLAG 480 688 Pavg_vt3
FLAG -192 608 0
FLAG -192 528 CLK
FLAG 96 608 0
FLAG 96 528 Vref
FLAG -144 144 CLK
FLAG 960 144 CLK
FLAG -144 192 Vref
FLAG 944 192 Vref
SYMBOL voltage -208 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 28
SYMBOL res 384 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1.45R
SYMBOL ind 512 176 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 15.38mH
SYMBOL HalfBridge 16 144 R0
WINDOW 39 60 136 Bottom 2
WINDOW 0 8 -104 Bottom 2
SYMATTR SpiceLine Tup=vt8_temp Tdown=vt9_temp
SYMATTR InstName X1
SYMBOL HalfBridge 784 144 M0
WINDOW 39 55 137 Bottom 2
WINDOW 0 8 -104 Bottom 2
SYMATTR SpiceLine Tup=vt2_temp Tdown=vt3_temp
SYMATTR InstName X2
SYMBOL voltage -224 96 R0
WINDOW 3 22 82 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 20u 10n 10n 100m)
SYMATTR InstName V1
SYMBOL voltage 1008 96 R0
WINDOW 3 32 79 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 0
SYMATTR InstName V3
SYMBOL Radiator 400 -224 R0
WINDOW 39 128 102 Bottom 2
SYMATTR SpiceLine Tambient=40 Tinit=rad_temp Rcontact=1.88
SYMATTR InstName X3
SYMBOL res 432 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2k
SYMBOL res 432 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2k
SYMBOL res 432 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 2k
SYMBOL res 432 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 2k
SYMBOL cap 608 432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL cap 608 512 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL cap 608 592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL cap 608 672 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.1µ
SYMBOL voltage 96 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 0.064
SYMBOL voltage -192 512 R0
WINDOW 3 -140 73 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 10n 10n 1u 33.333u)
SYMATTR InstName V5
TEXT 320 128 Left 2 ;Stepper Motor
TEXT -184 408 Left 2 !.tran 0 12ms 0 1u startup
TEXT -256 -296 Left 2 !.param rad_temp=40
TEXT -256 -256 Left 2 !.param vt8_temp=40
TEXT -256 -232 Left 2 !.param vt9_temp=40
TEXT -256 -208 Left 2 !.param vt2_temp=40
TEXT -256 -184 Left 2 !.param vt3_temp=40
TEXT -320 704 Left 2 !.meas vt8_power AVG V(Pvt8) FROM 11ms TO 12ms
TEXT -320 736 Left 2 !.meas vt9_power AVG V(Pvt9) FROM 11ms TO 12ms
TEXT -320 768 Left 2 !.meas vt2_power AVG V(Pvt2) FROM 11ms TO 12ms
TEXT -320 800 Left 2 !.meas vt3_power AVG V(Pvt3) FROM 11ms TO 12ms
TEXT -320 832 Left 2 !.meas rad_temp AVG V(Trad) FROM 11ms TO 12ms
TEXT -320 904 Left 2 !.option cshunt=1e-16 reltol=0.0001 abstol=1e-11 gmin=1e-11
TEXT -184 432 Left 2 !.ic I(L1)=0
LINE Normal 272 272 272 112 2
LINE Normal 528 272 272 272 2
LINE Normal 528 112 528 272 2
LINE Normal 272 112 528 112 2
